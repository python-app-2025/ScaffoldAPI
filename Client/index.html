<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Учет строительных лесов</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <script src="https://cdn.jsdelivr.net/npm/flatpickr/dist/l10n/ru.js"></script>
    <link rel="stylesheet" href="/css/style.css">
</head>
<body>
    <div class="container">
        <h1>Новая карточка учета лесов</h1>
        <form id="scaffoldForm">
            <!-- Секция ЛМО -->
            <div class="form-section">
                <label>ЛМО:</label>
                <div class="input-group">
                    <select id="lmoSelect" required>
                        <option value="">Выберите организацию</option>
                    </select>
                    <button type="button" class="btn-add" data-type="LMO" onclick="openAddModal('LMO')">+</button>
                </div>
            </div>

            <!-- Расположение на рабочей площадке -->
            <div class="form-group">
                <label>Расположение на рабочей площадке:</label>
                <input type="text" id="location" required>
            </div>

            <!-- Организация, эксплуатирующая леса -->
            <div class="form-group">
                <label>Организация, эксплуатирующая леса:</label>
                <div class="input-group">
                    <select id="operatingOrganization" required>
                        <option value="">Выберите организацию</option>
                        <option value="ПАО НЛМК">ПАО НЛМК</option>
                        <option value="СМТ НЛМК">СМТ НЛМК</option>
                    </select>
                    <button type="button" class="btn-add" data-type="Organization" onclick="openAddModal('Organization')">+</button>
                </div>
            </div>

            <!-- Принадлежность лесов -->
            <div class="form-group">
                <label>Принадлежность лесов:</label>
                <select id="ownership" required>
                    <option value="">Выберите принадлежность</option>
                    <option value="ПАО НЛМК">ПАО НЛМК</option>
                    <option value="ЛМО">ЛМО</option>
                </select>
            </div>
            
            <!-- Номер акта и заявки -->
            <div class="form-row">
                <div class="form-group">
                    <label>№ Акта:</label>
                    <input type="text" id="actNumber" required>
                </div>
                <div class="form-group">
                    <label>№ Заявки:</label>
                    <input type="text" id="requestNumber" required>
                </div>
            </div>

            <!-- Проект и СПП элемент -->
            <div class="form-row">
                <div class="form-group">
                    <label>Проект:</label>
                    <div class="input-group">
                        <select id="projectSelect" required>
                            <option value="">Выберите проект</option>
                        </select>
                        <button type="button" class="btn-add" data-type="Project" onclick="openAddModal('Project')">+</button>
                    </div>
                </div>
                <div class="form-group">
                    <label>СПП Элемент:</label>
                    <div class="input-group">
                        <select id="sppElementSelect" required>
                            <option value="">Выберите СПП</option>
                        </select>
                        <button type="button" class="btn-add" data-type="SppElement" onclick="openAddModal('SppElement')">+</button>
                    </div>
                </div>
            </div>

            <!-- Даты -->
            <div class="form-row">
                <div class="form-group">
                    <label>Дата подачи заявки:</label>
                    <input type="text" class="datepicker" id="requestDate" readonly>
                </div>
                <div class="form-group">
                    <label>Дата монтажа:</label>
                    <input type="text" class="datepicker" id="mountingDate" readonly>
                </div>
                <div class="form-group">
                    <label>Дата демонтажа:</label>
                    <input type="text" class="datepicker" id="dismantlingDate" readonly>
                </div>
            </div>

            <!-- Характеристики лесов -->
            <div class="form-row">
                <div class="form-group">
                    <label>Тип лесов:</label>
                    <select id="scaffoldType" required>
                        <option value="">Выберите тип</option>
                        <option value="Стоечные">Стоечные</option>
                        <option value="Подвесные">Подвесные</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Длина (м):</label>
                    <input type="number" id="length" min="0" step="0.1" required>
                </div>
                <div class="form-group">
                    <label>Ширина (м):</label>
                    <input type="number" id="width" min="0" step="0.1" required>
                </div>
                <div class="form-group">
                    <label>Высота (м):</label>
                    <input type="number" id="height" min="0" step="0.1" required>
                </div>
            </div>

            <!-- Дополнительные параметры -->
            <div class="form-row">
                <div class="form-group">
                    <label>Вид работ:</label>
                    <select id="workType" required>
                        <option value="">Выберите вид</option>
                        <option value="Монтаж">Монтаж</option>
                        <option value="Демонтаж">Демонтаж</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Заказчик:</label>
                    <select id="customer" required>
                        <option value="">Выберите заказчика</option>
                        <option value="ПАО НЛМК">ПАО НЛМК</option>
                        <option value="СМТ НЛМК">СМТ НЛМК</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Статус:</label>
                    <select id="status" required>
                        <option value="">Выберите статус</option>
                        <option value="Используется">Используется</option>
                        <option value="Не используется">Не используется</option>
                    </select>
                </div>
            </div>

            <div class="form-actions">
                <button type="submit" class="btn-save">Сохранить</button>
                <button type="button" class="btn-registry" onclick="window.location.href='/registry.html'">Реестр</button>
                <button type="button" class="btn-analytics" onclick="window.location.href='/analytics.html'">Аналитика</button>
            </div>
        </form>
    </div>

    <!-- Модальное окно добавления -->
    <div id="addModal" class="modal">
        <div class="modal-content">
            <h3>Добавить новое значение</h3>
            <input type="text" id="newItemInput" placeholder="Введите значение">
            <div class="modal-actions">
                <button onclick="addNewItem()" class="btn-confirm">Добавить</button>
                <button onclick="closeModal()" class="btn-cancel">Отмена</button>
            </div>
        </div>
    </div>

    <div id="messages-container" style="position: fixed; top: 20px; left: 50%; transform: translateX(-50%); z-index: 1000;"></div>

    <script src="/js/app.js"></script>
</body>
</html>